#C语言

## 内存
`不了解内存，就学不会进程和线程，就没有资格玩中大型项目，没有资格开发底层组件，没有资格架构一个系统，命中注定你就是一个菜鸟，成不了什么气候。`
- 不管是运行QQ还是编辑Word文档，都是先将硬盘上的数据复制到内存，才能让CPU来处理，这个过程就叫作载入内存（Load into Memory）。
- 完成这个过程需要一个特殊的程序（软件），这个程序就叫做加载器（Loader）。
- 内存
`CPU直接从内存中读取数据，处理完成后将结果再写入内存。`
  

## 数据类型
1.基本类型：
它们是算术类型，包括两种类型：整数类型和浮点类型。
2.枚举类型：
它们也是算术类型，被用来定义在程序中只能赋予其一定的离散整数值的变量。
3.void 类型：
类型说明符 void 表明没有可用的值。
4.派生类型：
它们包括：指针类型、数组类型、结构类型、共用体类型和函数类型。

## 32位操作基本数据类型

类型名称 | 占字节数 | 	其他叫法 | 表示范围
----|------|----|----
char | 1  | signed char | -128 ~ 127
unsigned char | 1  | none | 0 ~ 255
int | 4  | signed int | -2,147,483,648 ~ 2,147,483,647
unsigned int | 4  | unsigned int | 0 ~ 4,294,967,295
short | 2  | short int | -32,768 ~ 32,767
unsigned short | 2  | unsigned short int | 0 ~ 65,535
long | 4  | long int | -2,147,483,648 ~ 2,147,483,647
unsigned long | 4  | unsigned long | 	0 ~ 4,294,967,295
float | 4  | mone | 3.4E +/- 38 (7 digits)
double | 8  | mone | 1.7E +/- 308 (15 digits)
long double	 | 10  | mone | 1.2E +/- 4932 (19 digits)


##### 自己定义的变量函数名等要注意不可以与关键字同名
## C语言中的32个关键字
- | | | -
----|------|----|----
auto | double  | int | struct
break | else  | long | switch
case | enum  | register | typedef
char | extern  | return | union
const | float  | short | unsigned
continue | for  | signed | void
default | goto  | sizeof | volatile
do | if  | static | while

### sizeof 类型变量的长度

- putchar函数是字符输出函数，其功能是在终端（显示器）输出单个字符
- getchar函数的功能是接收用户从键盘上输入的一个字符 getchar()
- printf函数叫做格式输出函数，其功能是按照用户指定的格式
### printf(“格式控制字符串”,输出表项); 

格式字符 |
----|----
d , i | 以十进制形式输出有符号整数(正数不输出符号)
O | 以八进制形式输出无符号整数(不输出前缀0)
x | 以十六进制形式输出无符号整数(不输出前缀0x)
U | 以十进制形式输出无符号整数
f | 以小数形式输出单、双精度类型实数
e | 以指数形式输出单、双精度实数
g | 以%f或%e中较短输出宽度的一种格式输出单、双精度实数
C | 输出单个字符
S | 输出字符串

- scanf函数称为格式输入函数，即按照格式字符串的格式，从键盘上把数据输入到指定的变量之中
- scanf(“格式控制字符串”，输入项地址列表); 

转换说明符 |
----|----
%c | 把输入解释成一个字符
%d | 把输入解释成一个有符号十进制整数
%e,%f,%g,%a | 把输入解释成一个浮点数(%a是C99的标准)
%E,%F,%G,%A | 把输入解释成一个浮点数(%A是C99的标准)
%i | 把输入解释成一个有符号十进制整数
%o | 把输入解释成一个有符号的八进制整数
%p | 把输入解释成一个指针(一个地址)
%s | 把输入解释成一个字符串：输入的内容以第一个非空白字符作为开始，并且包含直到下一个空白字符的全部字符
%u | 把输入解释成一个无符号十进制整数
%x,%X | 把输入解释称一个有符号十六进制整数

## 变量
- type variable
- type 有效的数据类型

###### 变量的存储类型

- <font color="Peru">自动变量</font>
调用该函 数时系统会给它们分配存储空间,在函数调用结束时就自动释放这些存储空间。这类局部变量称为自动变量
自动变量用关键字 auto 进行存储类别的声明
```
int fun(int a)
{
    auto int b,c=3; /*定义 b,c 为自动变量*/
}
```
- <font color="Plum">外部变量 </font>
外部变量(即全局变量)是在函数的外部定义的,它的作用域为从变量定义处开始,到本程序文件的末尾。如果外部变量不在文件的开头定义,其有效的作用范围只限于定义处到文件末尾。如果在定义点之前的函数想引用该外部变量,则应该在引用之前用关键字 extern 对该变量进行“外部变量声明”。表示该 变量是一个已经定义的外部变量。有了此声明,就可以从“声明”处起,合法地使用该外部变量. 
用 extern 声明外部变量,扩展程序文件中的作用域 

- <font color="VioletRed">静态变量 </font>
有时希望函数中的局部变量的值在函数调用结束后不消失而保留原值,这时就应该指定局部变量为静 态局部变量,用关键字 static 进行声明。 

- <font color="SaddleBrown">寄存器变量 </font>
为提高效率,C 语言允许将局部变量的值存放在 CPU 的寄存器中,这种变量叫做寄存器变量,用关键字 register 声明。使用寄存器变量需要注意以下几点: 
(1)只有局部自动变量和形式参数可以作为寄存器变量。 
(2)一个计算机系统中的寄存器数目有限,不能定义任意多个寄存器变量。 
(3)不能使用取地址运算符“&”求寄存器变量的地址。

## 常量
- 常量固定值
### 整数常量
>0x 或 0X 表示十六进制，0 表示八进制，不带前缀则默认表示十进制。
整数常量也可以带一个后缀，后缀是 U 和 L 的组合，U 表示无符号整数（unsigned），L 表示长整数（long）。后缀可以是大写，也可以是小写，U 和 L 的顺序任意。

###### 1.使用 #define 预处理器。
###### 2.使用 const 关键字

## 存储类
- 1、auto存储类
- auto 存储类是所有局部变量默认的存储类。

- 2、register存储类
- register 存储类用于定义存储在寄存器中而不是 RAM 中的局部变量。这意味着变量的最大尺寸等于寄存器的大小（通常是一个词），
- 且不能对它应用一元的 '&' 运算符（因为它没有内存位置）。

- 3、static 存储类
 - static 存储类指示编译器在程序的生命周期内保持局部变量的存在，而不需要在每次它进入和离开作用域时进行创建和销毁。因此，使用 static 修饰局部变量可以在函数调用之间保持局部变量的值。
 - static 修饰符也可以应用于全局变量。当 static 修饰全局变量时，会使变量的作用域限制在声明它的文件内。
 - 全局声明的一个 static 变量或方法可以被任何函数或方法调用，只要这些方法出现在跟 static 变量或方法同一个文件中。

###### 数组
- 一维数组 
类型说明符 数组名 [常量表达式] 
int a[100] 其中元素为a[0] ~ a[99]
int a[100] = {1,2,3} 前三个元素为1,2,3其他元素为0
- 二维数组
类型说明符 数组名[行数][列数]; 
int a[3][4] 三行四列
int a[3][4]={{1,2,3,4},{10,20,30,40},{100,200,300,400}};
字符数组
char c[10];
char c[6]={'c', ' h ', 'i', 'n', 'a' , '\0' };

###### 地址与指针
<font color="red">指针被称为是C语言的精华所在</font>
- 地址
何谓地址？在内存(注意，我们这里提到的内存并不是人们常说的计算机的物理内存，而是虚拟的逻辑内存空间)当中，简单点说：地址就是可以唯一标识某一点的一个编号，即一个数字！我们都见过尺子，我们统一以毫米为单位，一把长1000毫米的尺子，其范围区间为0~999，而我们可以准确的找到35毫米、256毫米处的位置。同样的道理，内存也如此，也是像尺子一样线性排布，只不过这个范围略大，在我们最广泛使用的32位操作系统下，是从0~4,294,967,295之间，而地址就是这之中的的一个编号而已，习惯上，在计算机里地址我们常常用其对应的十六进制数来表示，比如0x12ff7c这样。在我们的C程序中，<font color="red">每一个定义的变量，在内存中都占有一个内存单元，</font>比如int类型占四个字节，char类型占一个字节等等，每个字节都在0~4,294,967,295之间都有一个对应的编号，C语言允许在程序中使用变量的地址，并可以通过地址运算符"&"得到变量的地址。

- 指针
明白地址的概念之后，指针也就不奇怪了。简单的讲，<font color="red">地址就是逻辑内存上的编号，而指针虽然也表示一个编号，也是一个地址。但两者性质却不相同。一个代表了常量，另一个则是变量。</font>就好比内存是一把尺子，而指针就是尺子上面的游标，可以左右移动，他某一个时刻是指向一个地方的，这就是指针变量。 
对指针变量定义的一般形式为: 
类型说明符 *变量名; 
其中,这里的*与前面的类型说明符共同说明这是一个指针变量,类型说明符表示该指针变量所指向的变量为何种数据类型,变量名即为定义的指针变量名。除此之外，
C还提供*运算符获取地址上对应的值。 

```
#include<stdio.h>
int main()
{
        int num=2014;
        int *p=&num;
        printf("num Address = 0x%x,num=%d\n",&num,num);
        printf("p = 0x%x,*p=%d\n",p,*p);
        printf("%d\n",*&num);
        return 0;
}
num Address = 0x23a33614,num=2014
p = 0x23a33614,*p=2014
2014
```

- 数组与指针
通过数组下标可以确定数组元素在数组中的顺序和存储地址。由于每个数组元素 相当于一个变量,因此指针变量可以指向数组中的元素,也就是说可以用指针方式访问数组中的元素。 对一个指向数组元素的指针变量的定义和赋值方法,与指针变量相同
```
int a[10]; /*定义 a 为包含 10 个整型数据的数组*/
int *p; /*定义 p 为指向整型变量的指针*/
p=&a[0]; /*把 a[0]元素的地址赋给指针变量 p*/
```

C 语言规定,数组名代表数组的首地址,也就是第 0 号元素的地址
对于指向首地址的指针 p,p+i(或a+i)就是数组元素 a[i]的地址,*(p+i)( 或*(a+i) )就是 a[i]的值。 
如果指针变量 p 已指向数组中的某一个元素,则 p+1 指向同一数组中的下一个元素。 
引入指针变量后,就可以用以下两种方法来访问数组元素: 
(1)下标法,即用 a[i]形式访问数组元素,在前面介绍数组时都是采用这种方法。 
(2)指针法,即采用*(a+i)或*(p+i)形式,用间接访问的方法来访问数组元素,其中 a 是数组名,p 是 指向数组的指针变量,其初值 p=a。
```
#include<stdio.h>
int main()
{
        int i;
        int a[10]={1,2,3,4,5,6,7,8,9,0};
        int *p=a;
        for(i=0;i<10;i++)
        {
                printf("P Value:%d   a Value :%d\n",*(p++),*(a+i));
        }
        printf("\n");
        return 0;
}   
```
- ###### 结构体
C 数组允许定义可存储相同类型数据项的变量，结构是 C 编程中另一种用户自定义的可用的数据类型，它允许您存储不同类型的数据项。
```
struct tag { 
    member-list
    member-list 
    member-list  
    ...
} variable-list ;
```
tag 是结构体标签。
member-list 是标准的变量定义，比如 int i; 或者 float f，或者其他有效的变量定义。
variable-list 结构变量，定义在结构的末尾，最后一个分号之前，您可以指定一个或多个结构变量。

- ###### 共用体
- 在 C 语言中,允许几种不同类型的变量存放到同一段内存单元中,也就是使用覆盖技术,几个变量互 相覆盖。
- 这种几个不同的变量共同占用一段内存的结构,被称为共用体类型结构,简称共用体。